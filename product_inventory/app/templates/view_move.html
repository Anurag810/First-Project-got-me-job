{% extends "base.html" %}
{% block content %}
<script>
  function val2(){
   var f=document.getElementById('sel11').value;
   var t=document.getElementById('sel22').value;
   var q=document.getElementById('qty3').value;

    if(f==t || q==0){
    alert("No! such movement is possible: check location or Enter valid quantity");


    return false;
    }


    return true;
}
    function fun(i,fl,tl,q){
        document.getElementById('form').innerHTML='<form  action="/update_movement" onsubmit="return val2()" method="post">\
                 <div class="form-group">\
  <label for="sel1">From:</label>\
  <select class="form-control" id="sel11" name="from">\
      <option  value="--"> -- </option>\
{% for location in lc: %}\
     <option value="{{ location[0] }}">\
    {% for ele in location: %}\
         {{ ele }}\
    {% endfor %}\
     </option>\
{% endfor %}\
  </select>\
</div>\
        <div class="form-group">\
  <label for="sel2">To:</label>\
  <select class="form-control" id="sel22" name="to">\
      <option value="--"> -- </option>\
{% for location in lc: %}\
     <option value="{{ location[0] }}">\
    {% for ele in location: %}\
         {{ ele }}\
    {% endfor %}\
     </option>\
{% endfor %}\
  </select>\
  </div>\
                 <div class="form-group">\
  <label for="qty">Quantity</label>\
  <input type="text" class="form-control" id="qty3" name="qty"  value="'+q+'" pattern ="[0-9]*" required>\
  <input type="hidden"  name="mid" value="'+i+'">\
</div>\
 <center> <input type="submit" class="form-control bg-success" value="Update movement"  style="width:auto; color:white;"> </center>\
            </form>';
    }
</script>
<center><h2 style="color:#3c8dbc;">-: Inventory Management System :-</h2></center>
    <hr>
<center><h4 style="color:#3c8dbc;">-:Movement Details :-</h4></center>
    <hr>
    <ul class="breadcrumb ">
<li class="breadcrumb-item"><a href="/home">Home</a></li>
        <li class="breadcrumb-item ">Product Movement</li>
<li class="breadcrumb-item active">View Movements</li>
</ul>
    <table class="table table-striped">
        <thead>
            <th>Movement id</th>

            <th>Time</th>
            <th>Product</th>
            <th></th>
            <th>From</th>
<th></th>
             <th>To</th>

        <th>Quantity</th>
        <th>Action</th>
        </thead>
    <tbody>

   {{ report }}

    </tbody>

</table>


 <div class="modal" id="myModal28">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header bg-info">
        <h4 class="modal-title">Update record</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
          <div id="form"></div>

      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

{% endblock %}


